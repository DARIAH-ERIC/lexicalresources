<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="../css/tei_oxygen.css"?>
<?xml-stylesheet type="text/css" href="../css/tei.lex0.odd.css"?>
<div xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="specification">
    <head>Specification</head>
    <schemaSpec ident="TEILex0" docLang="en" xml:lang="en">

        <moduleRef key="gaiji" except="localName"/>
        <!-- 2018-09-02 (TT): changed moduleRef for linking based on PB -->
        <moduleRef key="linking" include="seg"/>
        <!-- for segmentation inside orth/pron -->
        <!-- 2018-09-02 (TT): removed re hom -->
        <!-- 2018-09-02 (TT): put dictScrap back, I think we still want it -->
        <moduleRef key="dictionaries" except="entryFree superEntry re hom"/>
        <!-- 2018-09-02 (TT): explicitly encoded what we allow from core -->
        <!-- 2018-09-11 (TT): removed list, item and label because i don't
                    see them as lexicographically relevant. I don't thin we need p either
                    but I'm leaving it for now, in case we need it in the header-->
        <!--2018-09-20 (TT): added quote! -->
        <!--2019-07-04 (TT): added graphic, we need it for images! -->
        <moduleRef key="core"
            include="author head title cit quote bibl biblStruct biblScope listBibl gloss
                        citedRange imprint analytic publisher pubPlace ref date hi editor respStmt name resp term note graphic p"/>
        <!--PB's simplified textstructure declaratiopn-->
        <moduleRef key="textstructure" include="TEI text body div front back"/>
        <!-- 2018-09-11 (TT): 2018-09-11 (TT): Some dictionaries use images, hence
                    leaving this here. Also head (from the core module is needed if we have images
                    with explicit titles as opposed to captions. This we will come back to of course.-->
        <moduleRef key="figures" include="figDesc figure"/>
        <!--2018-09-11 (TT): this is superflous because we're removing all elements
                    from analysis -->
        <moduleRef key="analysis" except="cl interp interpGrp m phr s span spanGrp w"/>
        <!--<moduleRef key="iso-fs" except="bicond binary cond default fDecl fDescr fLib fsConstraints fsDecl fsDescr fsdDecl fsdLink fvLib if iff numeric then vAlt vColl vDefault"/>
                    -->
        <!-- 2018-09-02 (TT): added PB's simplified declaration of the header and namesdates -->
        <moduleRef key="header"
            include="teiHeader fileDesc titleStmt editionStmt extent publicationStmt sourceDesc encodingDesc projectDesc seriesStmt
                        notesStmt authority distributor idno edition funder availability licence appInfo classDecl namespace tagUsage tagsDecl rendition"/>

        <!--2020-05-24 (TT): added persName and orgName; need them for bibliographies-->
        <moduleRef key="namesdates" include="placeName persName orgName"/>

        <!-- for dialectal properties -->
        <moduleRef key="tei" except="correspAction correspContext correspDesc"/>

        <!-- LR (2019-11-14) Adding the transc module just to have metamark - as discussed with TT at the DH master class in FU Berlin-->
        <moduleRef key="transcr" include="metamark"/>

        <!-- Initial change to make entry recursive (LR) -->
        <!-- 2018-09-03 (LR): making @xml:id required -->
        <elementSpec ident="entry" mode="change">
            <classes mode="change">
                <memberOf key="model.entryPart.top" mode="add"/>
                <!-- 2018-12-06 [LR] in order to have (recursive) <entry> in <sense> -->
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
            <!-- 2018-09-03 (TT): added explicit content model in order
                        to include pc; see: https://github.com/TEIC/TEI/commit/1f6bd0115c67fa7f3db56dc9f9152ab855beee4d#diff-30a258b526be65d489a9dcfd0a239b69
                        this is temporary because of issue with oxygen and tei-c servers; is already part of TEI -->
            <content>
                <alternate minOccurs="1" maxOccurs="unbounded">
                    <elementRef key="sense"/>
                    <elementRef key="pc"/>
                    <classRef key="model.entryPart.top"/>
                    <classRef key="model.global"/>
                    <classRef key="model.ptrLike"/>
                </alternate>
            </content>
            <attList>
                <attDef ident="xml:id" mode="change" usage="req"/>
                <attDef ident="xml:lang" mode="change" usage="req"/>
                <attDef ident="type" mode="replace" usage="rec">
                    <defaultVal>mainEntry</defaultVal>
                    <valList mode="change" type="semi">
                        <valItem ident="mainEntry"/>
                        <valItem ident="wordFamily"/>
                        <valItem ident="homonymicEntry"/>
                        <valItem ident="relatedEntry"/>
                    </valList>
                </attDef>
            </attList>
        </elementSpec>

        <!-- 2018-09-03 (LR): making @xml:id mandatory on sense -->

        <elementSpec ident="sense" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
            <content>
                <alternate minOccurs="0" maxOccurs="unbounded">
                    <!-- 2019-06-25 (TT): removed <textNode/> because we don't mixed content in sense-->
                    <classRef key="model.gLike"/>
                    <!-- following line useless since sense is member of model.sensePart -->
                    <!--<elementRef key="sense"/>
                                -->
                    <classRef key="model.sensePart"/>
                    <classRef key="model.phrase"/>
                    <classRef key="model.global"/>
                </alternate>
            </content>
            <attList>
                <attDef ident="xml:id" mode="change" usage="req"/>
                <attDef ident="level" mode="delete"/>
            </attList>
        </elementSpec>

        <!-- 2018-07-17 (LR): the <xr> element is adapted to have specific @type values -->
        <!-- implemented default value to lexical -->
        <!-- introducing @subtype (note to myself: make feature request to TEI so that xr belongs to att.typed -->
        <!-- made member of att.notated (for having @notation) ==> to be discussed -->

        <elementSpec ident="xr" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
                <!-- 2018-12-04 [LR] to have <xr> in <def> and few other cool places -->
                <!-- 2019-10-22 [LR] deleted to prevent ambiguous content model -->
                <!--<memberOf key="model.emphLike" mode="add"/>-->
                <!--<classes mode="change">
                            <memberOf key="att.notated" mode="add"/>
                        </classes>-->
                <!--2020-05-14 allow inside quote (for cross-references in examples)-->
                <memberOf key="model.quoteLike" mode="add"/>

            </classes>
            <content>
                <alternate minOccurs="0" maxOccurs="unbounded">
                    <classRef key="model.gLike"/>
                    <classRef key="model.phrase"/>
                    <classRef key="model.inter"/>
                    <elementRef key="usg"/>
                    <elementRef key="lbl"/>
                    <classRef key="model.global"/>
                </alternate>
            </content>
            <attList>
                <attDef ident="type" mode="replace" usage="req">
                    <defaultVal>related</defaultVal>
                    <valList type="closed" mode="change">
                        <!-- 2018-12-06-->
                        <!--<valItem ident="crossReference"/>-->
                        <valItem ident="synonymy">
                            <desc>Relation between two lexical units X and Y which are syntactically
                                identical and have the property that any declarative sentence S
                                containing X has equivalent truth conditions to another sentence S’
                                which is identical to S, except that X is replaced by Y. (Adapted
                                from Cruse (1986).)</desc>
                            <remarks>
                                <p>Synonymy is the linguistic parallel of the identity relation
                                    between classes. Synonyms differ in peripheral traits, related
                                    for example to stylistic, dialectal or diachronic
                                    variations.</p>
                                <p>Examples: [de] {Hund, Köter}, [en] {flashlight, torch}, [en]
                                    {glad, joyful, happy}, [en] {violin, fiddle} [en] He plays the
                                    violin very well/He plays the fiddle very well.</p>
                            </remarks>
                        </valItem>

                        <valItem ident="hyponymy">
                            <desc> Relation between lexical units X and Y characterised by the
                                property that the sentence This is a(n) X entails, but is not
                                entailed by the sentence This is a(n) Y. (Adapted from Cruse (1986)) </desc>
                            <remarks>
                                <p>Hyponymy and its converse hypernymy are the linguistic parallels
                                    of the relation of inclusion between two classes.</p>
                                <p>Examples: [en] animal/dog, red/scarlet, to kill/to murder</p>
                                <p>[en] This is a dog. => This is an animal.</p>
                                <p>[en] This is a scarlet flower. => This is a red flower.</p>
                            </remarks>
                        </valItem>
                        <valItem ident="hypernymy">
                            <desc>Relation between lexical heads X and Y characterised by the
                                property that the sentence This is a(n) Y entails, but is not
                                entailed by the sentence This is a(n) X. (Adapted from Cruse (1986)) </desc>
                            <remarks>
                                <p>Hyperonymy is the converse of hyponymy.</p>
                                <p> Example: dog/animal (animal is a hypernym of dog)</p>
                            </remarks>
                        </valItem>
                        <valItem ident="meronymy">
                            <desc>An inclusion relation between lexical heads X and Y which reflect
                                a potential part-whole relation between their referents in
                                discourse. (Adapted from Cruse (2011, p. 140))</desc>
                            <remarks>
                                <p>Example: finger:hand (finger is said to be a meronym of hand, and
                                    hand is said to be the holonym of finger).</p>
                            </remarks>
                        </valItem>
                        <valItem ident="antonymy"/>
                        <valItem ident="related">
                            <desc>The default reference to another lexical unit when no addtional
                                information is available.</desc>
                        </valItem>
                        <!-- further values to be added there -->
                    </valList>
                </attDef>
                <attDef ident="subtype" mode="replace" usage="opt">
                    <datatype>
                        <dataRef key="teidata.enumerated"/>
                    </datatype>
                </attDef>
            </attList>
        </elementSpec>

        <!-- 2018-09-1 (LR): the <ref> element is adapted to have specific @type values (semi-closed) -->

        <elementSpec ident="ref" mode="change">
            <!--2020-05-14 (TT): to allow expand on ref-->
            <classes mode="change">
                <memberOf key="att.lexicographic"></memberOf>
            </classes>
            <attList>
                <attDef ident="type" mode="replace" usage="req">
                    <valList type="semi" mode="change">
                        <valItem ident="entry"/>
                        <valItem ident="sense"/>
                        <!-- 2019-07-04 (LR): added bibliography -->
                        <valItem ident="bibliography"/>
                        <!-- further values to be added there -->
                    </valList>
                </attDef>
            </attList>
        </elementSpec>

        <!-- 2018-07-17 (TT): the <usg> element is adapted to have specific @type values -->
        <elementSpec ident="usg" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
            <attList>
                <attDef ident="type" mode="replace" usage="req">
                    <valList type="closed" mode="change">
                        <valItem ident="time">
                            <desc>marker which identifies the use of a given lexical unit on a scale
                                from old to new</desc>
                        </valItem>
                        <valItem ident="geographic">
                            <desc>marker which identifies the place or region where a lexical unit
                                is mainly used</desc>
                        </valItem>
                        <valItem ident="socioCultural">
                            <desc>marker which identifies the use of a given lexical unit by
                                particular social groups and/or in certain types of communicative
                                situations depending on their level of formality</desc>
                        </valItem>
                        <valItem ident="domain">
                            <desc>marker which identifies the specialized field of knowledge in
                                which a lexical unit is mainly used</desc>
                        </valItem>
                        <valItem ident="frequency">
                            <desc>marker which identifies the relative rate of occurrence of a
                                lexical unit in a given textual context</desc>
                        </valItem>
                        <valItem ident="attitude">
                            <desc>marker which identifies the speaker’s subjective point of view,
                                positive or negative, regarding the object referred to by a given
                                lexical unit</desc>
                        </valItem>
                        <valItem ident="normativity">
                            <desc> marker which identifies the use of a given lexical unit which is
                                in some aspect considered to be non-standard or incorrect </desc>
                        </valItem>
                        <valItem ident="meaningType">
                            <desc>marker which identifies a semantic extension of the sense of a
                                given lexical unit</desc>
                        </valItem>
                        <valItem ident="textType">
                            <desc>marker which identifies the typical use of a lexical unit in a
                                particular discourse type or genre</desc>
                        </valItem>
                        <valItem ident="hint">
                            <desc>marker which cannot be classified otherwise</desc>
                        </valItem>
                    </valList>
                </attDef>
            </attList>
            <exemplum>
                <egXML xmlns="http://www.tei-c.org/ns/Examples">
                    <form>
                        <form>
                            <usg type="geographic">U.S.</usg>
                            <orth>color</orth>
                        </form>
                    </form>
                </egXML>
            </exemplum>
        </elementSpec>

        <!-- adding lang to model.entryPart (to make it member of <cit>, if you ask) -->
        <!-- 2019-10-22 (LR) created ambiguous models... mended -->
        <elementSpec ident="lang" mode="change">
            <!--<classes mode="change">
                            <memberOf key="model.entryPart" mode="add"/>
                        </classes>-->
            <exemplum>
                <egXML xmlns="http://www.tei-c.org/ns/Examples" xml:id="d1e5322">
                    <cit type="cognate">
                        <lang>dän.</lang>
                        <form>
                            <orth xml:lang="da">indgang</orth>
                        </form>
                    </cit>
                </egXML>
            </exemplum>
            <exemplum>
                <egXML xmlns="http://www.tei-c.org/ns/Examples" xml:id="d1e5340">
                    <cit type="etymon">
                        <lang>mhd.</lang>
                        <form type="variant">
                            <orth xml:lang="gmh">vreten</orth>
                        </form>
                        <form type="variant">
                            <orth xml:lang="gmh">vretten</orth>
                        </form>
                        <form type="variant">
                            <orth xml:lang="gmh">vraten</orth>
                        </form>
                        <def>entzünden; wundreiben; herumziehen; quälen; plagen</def>
                    </cit>
                </egXML>
            </exemplum>
        </elementSpec>

        <!-- adding def to model.sensePart -->
        <elementSpec ident="def" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
                <memberOf key="model.entryPart.top" mode="delete"/>
            </classes>
        </elementSpec>

        <!-- adding cit to model.sensePart -->
        <elementSpec ident="cit" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
            <content>
                <alternate minOccurs="1" maxOccurs="unbounded">
                    <classRef key="model.qLike"/>
                    <classRef key="model.egLike"/>
                    <classRef key="model.biblLike"/>
                    <classRef key="model.ptrLike"/>
                    <classRef key="model.global"/>
                    <classRef key="model.entryPart"/>
                    <!-- 2019-06-25 (TT): adding  model.segLike to allow pc etc. in cit -->
                    <classRef key="model.segLike"/>
                    <!-- 2019-10-22 (LR): adding <lang> to deal with etymological descriptions -->
                    <elementRef key="lang"/>
                    <!-- 2019-11-20 (LR): adding <gloss> to deal with etymological descriptions -->
                    <elementRef key="gloss"/>
                </alternate>
            </content>
            <attList>
                <attDef ident="type" mode="replace" usage="req">
                    <valList type="closed" mode="change">
                        <valItem ident="example"/>
                        <valItem ident="translation"/>
                        <valItem ident="translationEquivalent"/>
                        <valItem ident="etymon"/>
                        <valItem ident="cognate"/>
                        <valItem ident="cognateSet"/>
                    </valList>
                </attDef>
            </attList>
        </elementSpec>

        <!-- adding form to model.sensePart -->
        <elementSpec ident="form" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
        </elementSpec>

        <!-- adding gramGrp to model.sensePart -->
        <elementSpec ident="gramGrp" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
        </elementSpec>

        <!-- adding etym to model.sensePart -->
        <elementSpec ident="etym" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
            </classes>
            <content>
                <alternate minOccurs="0" maxOccurs="unbounded">
                    <textNode/>
                    <classRef key="model.gLike"/>
                    <classRef key="model.global"/>
                    <classRef key="model.inter"/>
                    <classRef key="model.phrase"/>
                    <classRef key="model.descLike"/>
                    <elementRef key="def"/>
                    <elementRef key="etym"/>
                    <elementRef key="gramGrp"/>
                    <elementRef key="lbl"/>
                    <elementRef key="usg"/>
                    <elementRef key="xr"/>
                </alternate>
            </content>
            <attList>
                <attDef ident="type" mode="replace" usage="rec">
                    <valList type="closed" mode="change">
                        <valItem ident="borrowing"/>
                        <valItem ident="inheritance"/>
                        <valItem ident="metaphor"/>
                        <valItem ident="metonymy"/>
                        <valItem ident="compounding"/>
                        <valItem ident="grammaticalization"/>
                        <valItem ident="derivation"/>
                    </valList>
                </attDef>
            </attList>
        </elementSpec>

        <!-- adding lbl to model.sensePart -->
        <elementSpec ident="lbl" mode="change">
            <classes mode="change">
                <memberOf key="model.sensePart" mode="add"/>
                <!--2019-02-19 (TT): changed from 'delete' (which was in error) to 'add' in model.entryPart.top";
                                this is temporary because of issue with oxygen and tei-c servers; is already part of TEI-->
                <memberOf key="model.entryPart.top" mode="add"/>
                <memberOf key="model.emphLike" mode="add"/>
            </classes>
        </elementSpec>
        
        <!--2020-05-14 add orth and pron to att.datable.w3c to allow @notBefore etc.-->
        
        <elementSpec ident="orth" mode="change">
            <classes mode="change">
                <memberOf key="att.datable.w3c" mode="add"></memberOf>
            </classes>
        </elementSpec>
        
        <elementSpec ident="pron" mode="change">
            <classes mode="change">
                <memberOf key="att.datable.w3c" mode="add"></memberOf>
            </classes>
        </elementSpec>
      

        <!-- Class related declaration here -->

        <!-- Introducing new class for the content model of <sense> -->
        <!-- Elements remaining to be put in: dictScrap     re -->
        <!-- and we add: sense to simplify the content model <= but do we want that?!?-->

        <classSpec type="model" ident="model.sensePart">
            <desc>groups together all the elements from the dictionary modules that can appear as
                child of <gi>sense</gi></desc>
        </classSpec>

        <!-- Making model.biblLike member of model.entryPart.top so that <bibl> is available in <entry> -->

        <classSpec type="model" ident="model.biblLike" mode="change">
            <classes mode="change">
                <memberOf key="model.entryPart.top" mode="add"/>
            </classes>
        </classSpec>

        <!--2018-09-02 (TT): Added PB's useful class modifications-->
        <!-- three of the TEI attribute classes are simplified. The attributes xml:space,
                        rend, and xml:base are removed from the att.global class, so that this now makes available
                        to all elements only the following attributes: <att>xml:id</att>, <att>n</att>, and
                        <att>xml:lang</att>.-->
        <!--  Three un-needed attributes are removed from the att.divLike class so that the
                        <gi>div</gi> element inherits from it only the following attributes: <att>xml:id</att>,
                        <att>n</att>, <att>xml:lang</att>. The attribute class <ident>att.declaring</ident> is
                        deleted completely, so that none of its members inherit the <att>decls</att> attribute
                        defined in the unmodified TEI.-->

        <classSpec ident="att.global" mode="change" type="atts">
            <attList>
                <attDef ident="xml:space" mode="delete"/>
                <attDef ident="xml:base" mode="delete"/>
            </attList>
        </classSpec>

        <!-- @rend is reintroduced, as per: https://github.com/DARIAH-ERIC/lexicalresources/issues/53#issuecomment-499463980 -->
        <!--<classSpec ident="att.global.rendition" mode="change" type="atts">
                        <attList>
                            <attDef ident="rend" mode="delete"/>
                        </attList>
                    </classSpec>
                    -->

        <classSpec ident="att.declaring" mode="delete" type="atts"/>

        <classSpec ident="att.fragmentable" type="atts" mode="change">
            <exemplum>
                <egXML xmlns="http://www.tei-c.org/ns/Examples">
                    <etym>
                        <seg type="desc" part="I">seit dem</seg>
                        <usg type="date">
                            <date>18. Jh.</date>
                        </usg>
                        <seg type="desc" part="M">belegt, auf</seg>
                        <cit type="etymon">
                            <form>
                                <orth xml:lang="de">fickfacken</orth>
                            </form>
                            <sense>
                                <def>'hin- und herlaufen'</def>
                            </sense>
                        </cit>
                        <seg type="desc" part="F">zurückgeführt</seg>; <seg type="desc" part="I"
                            >evtl. auch auf </seg>
                        <cit type="etymon">
                            <lang>fnhd.</lang>
                            <form>
                                <orth xml:lang="de-x-FNHD">fatzen</orth>
                            </form>
                            <!-- frühneuhochdeutsch -->
                            <sense>
                                <def>'spotten, zum Narren halten'</def>
                            </sense>
                        </cit>
                        <seg type="desc" part="F">zurückführbar</seg>
                        <bibl>(vgl. Pfeifer 2014: 329)</bibl>
                    </etym>
                </egXML>
            </exemplum>
        </classSpec>

        <classSpec ident="att.divLike" mode="delete" type="atts"/>

        <!-- 2019-10-22 (LR) new hack to have <xr> in <def> and similar places -->
        <macroSpec ident="macro.paraContent" mode="change">
            <content>
                <alternate minOccurs="0" maxOccurs="unbounded">
                    <textNode/>
                    <classRef key="model.gLike"/>
                    <classRef key="model.phrase"/>
                    <classRef key="model.inter"/>
                    <classRef key="model.global"/>
                    <elementRef key="lg"/>
                    <classRef key="model.lLike"/>
                    <elementRef key="xr"/>
                </alternate>
            </content>
        </macroSpec>

    </schemaSpec>
</div>
